<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lesson 12 Index-Dictionary Views | SQL Lessons</title>
    <meta name="description" content="SQL Lessons">
    
    
    <link rel="preload" href="/assets/css/0.styles.6efa0621.css" as="style"><link rel="preload" href="/assets/js/app.5a6969a4.js" as="script"><link rel="preload" href="/assets/js/2.8cd1edd2.js" as="script"><link rel="preload" href="/assets/js/8.6cd612cd.js" as="script"><link rel="prefetch" href="/assets/js/10.743b6c37.js"><link rel="prefetch" href="/assets/js/11.a14dc7d4.js"><link rel="prefetch" href="/assets/js/12.466d5af4.js"><link rel="prefetch" href="/assets/js/13.e68d3448.js"><link rel="prefetch" href="/assets/js/14.13c5430f.js"><link rel="prefetch" href="/assets/js/15.10c781f9.js"><link rel="prefetch" href="/assets/js/16.ba97c810.js"><link rel="prefetch" href="/assets/js/17.b1ee2921.js"><link rel="prefetch" href="/assets/js/18.15b86135.js"><link rel="prefetch" href="/assets/js/3.666663bc.js"><link rel="prefetch" href="/assets/js/4.688aea8c.js"><link rel="prefetch" href="/assets/js/5.22e3cbc4.js"><link rel="prefetch" href="/assets/js/6.8d98af04.js"><link rel="prefetch" href="/assets/js/7.1154f5cc.js"><link rel="prefetch" href="/assets/js/9.7de680e0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6efa0621.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SQL Lessons</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/Lesson1.html" class="nav-link">L1</a></div><div class="nav-item"><a href="/Lesson2.html" class="nav-link">L2</a></div><div class="nav-item"><a href="/Lesson3.html" class="nav-link">L3</a></div><div class="nav-item"><a href="/Lesson4.html" class="nav-link">L4</a></div><div class="nav-item"><a href="/Lesson5.html" class="nav-link">L5</a></div><div class="nav-item"><a href="/Lesson6.html" class="nav-link">L6</a></div><div class="nav-item"><a href="/Lesson7.html" class="nav-link">L7</a></div><div class="nav-item"><a href="/Lesson8.html" class="nav-link">L8</a></div><div class="nav-item"><a href="/Lesson9.html" class="nav-link">L9</a></div><div class="nav-item"><a href="/Lesson10.html" class="nav-link">L10</a></div><div class="nav-item"><a href="/Lesson11.html" class="nav-link">L11</a></div><div class="nav-item"><a href="/Lesson12.html" class="nav-link router-link-exact-active router-link-active">L12</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/Lesson1.html" class="nav-link">L1</a></div><div class="nav-item"><a href="/Lesson2.html" class="nav-link">L2</a></div><div class="nav-item"><a href="/Lesson3.html" class="nav-link">L3</a></div><div class="nav-item"><a href="/Lesson4.html" class="nav-link">L4</a></div><div class="nav-item"><a href="/Lesson5.html" class="nav-link">L5</a></div><div class="nav-item"><a href="/Lesson6.html" class="nav-link">L6</a></div><div class="nav-item"><a href="/Lesson7.html" class="nav-link">L7</a></div><div class="nav-item"><a href="/Lesson8.html" class="nav-link">L8</a></div><div class="nav-item"><a href="/Lesson9.html" class="nav-link">L9</a></div><div class="nav-item"><a href="/Lesson10.html" class="nav-link">L10</a></div><div class="nav-item"><a href="/Lesson11.html" class="nav-link">L11</a></div><div class="nav-item"><a href="/Lesson12.html" class="nav-link router-link-exact-active router-link-active">L12</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">osqlnotes</a></li><li><a href="/Lesson1.html" class="sidebar-link">Lesson 1 Select</a></li><li><a href="/Lesson2.html" class="sidebar-link">Lesson 2 Where</a></li><li><a href="/Lesson3.html" class="sidebar-link">Lesson 3 Single Row Functions</a></li><li><a href="/Lesson4.html" class="sidebar-link">Lesson 4 Group Functions pt.1</a></li><li><a href="/Lesson5.html" class="sidebar-link">Lesson 5 Joining tables</a></li><li><a href="/Lesson6.html" class="sidebar-link">Lesson 6 Using Sub-queries</a></li><li><a href="/Lesson7.html" class="sidebar-link">Lesson 7 Quiz Questions</a></li><li><a href="/Lesson8.html" class="sidebar-link">Lesson 8 Set operators</a></li><li><a href="/Lesson9.html" class="sidebar-link">Lesson 9 DML Manipulating Data</a></li><li><a href="/Lesson10.html" class="sidebar-link">Lesson 10 Create Manage Tables</a></li><li><a href="/Lesson11.html" class="sidebar-link">Lesson 11 Manage Schema Objects - Altering Tables</a></li><li><a href="/Lesson12.html" class="active sidebar-link">Lesson 12 Index-Dictionary Views</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Lesson12.html#quick-definitions" class="sidebar-link">Quick definitions</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#view" class="sidebar-link">View</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#why-do-we-use-them" class="sidebar-link">Why do we use them</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#simple-vs-complex-views" class="sidebar-link">Simple vs complex views</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#general-sytax" class="sidebar-link">General Sytax</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#examples" class="sidebar-link">Examples</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#with-alias" class="sidebar-link">with alias</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#modify-and-changing-views" class="sidebar-link">Modify and changing views</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#complex-views" class="sidebar-link">Complex Views</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#rules" class="sidebar-link">Rules</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#modify" class="sidebar-link">Modify</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#add-data" class="sidebar-link">Add data</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#with-check" class="sidebar-link">With Check</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#stopping-all-dml" class="sidebar-link">Stopping all DML</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#removing-a-view" class="sidebar-link">Removing a view</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#sequence" class="sidebar-link">Sequence</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#creating-sequence" class="sidebar-link">Creating Sequence</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#nextval-and-currval" class="sidebar-link">Nextval and currval</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#caching" class="sidebar-link">Caching</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#modding-sequence" class="sidebar-link">Modding Sequence</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#guidelines" class="sidebar-link">Guidelines:</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#index" class="sidebar-link">Index</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#what-to-index" class="sidebar-link">What to index?</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#creating-index" class="sidebar-link">Creating Index</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#some-rules-on-indexes" class="sidebar-link">SOME RULES ON INDEXES</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#trade-off" class="sidebar-link">TRADE-OFF</a></li><li class="sidebar-sub-header"><a href="/Lesson12.html#removing-indexes" class="sidebar-link">Removing indexes</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lesson-12-index-dictionary-views"><a href="#lesson-12-index-dictionary-views" class="header-anchor">#</a> Lesson 12 Index-Dictionary Views</h1> <p>A view is a snapshot of a combination of table joins that we can use to get data from one or more tables</p> <h2 id="quick-definitions"><a href="#quick-definitions" class="header-anchor">#</a> Quick definitions</h2> <p>Sequence - generates numeric values
Index - improves the perforamnce of data retrieval queries
Synonym - Gives alternative names to objects</p> <h2 id="view"><a href="#view" class="header-anchor">#</a> View</h2> <p>You can develop logical subsets of 1 or more tables by creating a view.</p> <ul><li><p>View is a logical table but not a physical table with data.</p></li> <li><p>Therefore, has no data</p></li> <li><p>you can nest views within views</p></li> <li><p>the view is stored as a select statement in the data dictionary</p></li></ul> <h2 id="why-do-we-use-them"><a href="#why-do-we-use-them" class="header-anchor">#</a> Why do we use them</h2> <ol><li>To restrict data access eg. payroll</li> <li>To make complex queries easier</li> <li>to provide data independence</li> <li>to present different views of the same data</li></ol> <h2 id="simple-vs-complex-views"><a href="#simple-vs-complex-views" class="header-anchor">#</a> Simple vs complex views</h2> <p>There are two classifications for views; simple and complex.
The basic difference is related to DML operations.</p> <p>A simple view is one that derives data from:</p> <ol><li>only one table</li> <li>contains no functions or groups of data</li> <li>can perform DML operations through the view to the underlying tables</li></ol> <p>A complex view is one that:</p> <ol><li>derives data from many tables</li> <li>contains functions or groups of data</li> <li>does not always allow DML operations through the view</li></ol> <h2 id="general-sytax"><a href="#general-sytax" class="header-anchor">#</a> General Sytax</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token punctuation">[</span><span class="token operator">or</span> <span class="token keyword">replace</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">force</span><span class="token operator">|</span>noforce<span class="token punctuation">]</span> <span class="token keyword">VIEW</span> <span class="token keyword">view</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>alias<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">as</span> subquery
  <span class="token punctuation">[</span><span class="token keyword">with</span> <span class="token keyword">check</span> <span class="token keyword">option</span> <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span> <span class="token keyword">constraint</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">with</span> <span class="token keyword">read</span> only <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span> <span class="token keyword">constraint</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

</code></pre></div><table><thead><tr><th style="text-align:center;">Keywords</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">OR REPLACE</td> <td style="text-align:center;">Re-creates the view if it already exists</td></tr> <tr><td style="text-align:center;">FORCE</td> <td style="text-align:center;">Creates the view regardless of whether or not the base tables exist. Sometimes done during development of database and underlying tables may not have been created yet</td></tr> <tr><td style="text-align:center;">NO FORCE</td> <td style="text-align:center;">Default – creates view only if the tables exist</td></tr> <tr><td style="text-align:center;">View</td> <td style="text-align:center;">Name of the view</td></tr> <tr><td style="text-align:center;">Alias</td> <td style="text-align:center;">Alternate names for underlying expressions</td></tr> <tr><td style="text-align:center;">subquery</td> <td style="text-align:center;">SELECT etc…</td></tr> <tr><td style="text-align:center;">WITH CHECK OPTION</td> <td style="text-align:center;">Specifies that only those rows that are accessible to the view can be inserted or updated</td></tr> <tr><td style="text-align:center;">Constraint</td> <td style="text-align:center;">Is the name assigned to the CHECK OPTION constraint.</td></tr> <tr><td style="text-align:center;">WITH READ ONLY</td> <td style="text-align:center;">Ensures that no DML operations can be performed on this view. No add etc…</td></tr></tbody></table> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">view</span> empvu80
  <span class="token keyword">as</span>  <span class="token keyword">select</span> employeeid<span class="token punctuation">,</span>
  lastname<span class="token punctuation">,</span>
  salary
  <span class="token keyword">from</span> employees
  <span class="token keyword">where</span> departmentid <span class="token operator">=</span> <span class="token number">80</span>

<span class="token keyword">describe</span> empvu80<span class="token punctuation">;</span>
</code></pre></div><p>Guidelines</p> <ul><li>The subquery that defines a view can contain complex SELECT syntax, including joins, groups, and subqueries.</li> <li>If you do not specify a constraint name for the view created with the WITH CHECK OPTION, the system assigns a default name in the SYS_Cn format.</li> <li>You can use the OR REPLACE option to change the definition of the view without dropping and re-creating it, or regranting the object privileges previously granted on it.</li></ul> <h2 id="with-alias"><a href="#with-alias" class="header-anchor">#</a> with alias</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">view</span> salvu50
  <span class="token keyword">as</span>  <span class="token keyword">select</span> employeeid ID_NUMBER<span class="token punctuation">,</span>
  lastname NAME<span class="token punctuation">,</span>
  salary<span class="token operator">*</span><span class="token number">12</span> ANN_SALARY
  <span class="token keyword">from</span> employees
  <span class="token keyword">where</span> departmentid <span class="token operator">=</span> <span class="token number">50</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> salvu50<span class="token punctuation">;</span>
<span class="token keyword">select</span> lastname <span class="token keyword">from</span> salvu50<span class="token punctuation">;</span> <span class="token comment">-- can treat as if it was a table</span>
</code></pre></div><h2 id="modify-and-changing-views"><a href="#modify-and-changing-views" class="header-anchor">#</a> Modify and changing views</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> <span class="token keyword">VIEW</span> empvu80 <span class="token punctuation">(</span>id_number<span class="token punctuation">,</span> name<span class="token punctuation">,</span> sal<span class="token punctuation">,</span>departmentid<span class="token punctuation">)</span>
<span class="token keyword">as</span>  <span class="token keyword">select</span> employeeid<span class="token punctuation">,</span>
firstname <span class="token operator">||</span> <span class="token string">' '</span> <span class="token operator">||</span> lastname<span class="token punctuation">,</span>
salary<span class="token punctuation">,</span>
departmentid
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> departmentid <span class="token operator">=</span> <span class="token number">80</span>
</code></pre></div><h2 id="complex-views"><a href="#complex-views" class="header-anchor">#</a> Complex Views</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> <span class="token keyword">VIEW</span> deptsumvu<span class="token punctuation">(</span>name<span class="token punctuation">,</span>minsal<span class="token punctuation">,</span>maxsal<span class="token punctuation">,</span>avgsal<span class="token punctuation">)</span>
<span class="token keyword">as</span> <span class="token keyword">select</span> d<span class="token punctuation">.</span>departmentname<span class="token punctuation">,</span>
<span class="token function">min</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">max</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">avg</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span>
<span class="token keyword">from</span> employees e <span class="token keyword">join</span> departments d
  <span class="token keyword">on</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>departmentid <span class="token operator">=</span> d<span class="token punctuation">.</span>departmentid<span class="token punctuation">)</span>
  <span class="token keyword">group</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>departmentname

</code></pre></div><h2 id="rules"><a href="#rules" class="header-anchor">#</a> Rules</h2> <ol><li>you can usually perform DMLs on simple views</li> <li>You cannot remove a row if the view contains the following</li></ol> <ul><li>group functions</li> <li>a group by clause</li> <li>the distinct keyboard</li> <li>pseudocolumn rownum keyword</li></ul> <h2 id="modify"><a href="#modify" class="header-anchor">#</a> Modify</h2> <ul><li>You cannot modify data in a view if it contains:
<ul><li>group functions</li> <li>a group by</li> <li>distinct</li> <li>row num</li> <li>columns defined by expressions</li></ul></li></ul> <h2 id="add-data"><a href="#add-data" class="header-anchor">#</a> Add data</h2> <ul><li>All of the above</li> <li>not null columns in the base tables that are no selected by the view</li></ul> <h2 id="with-check"><a href="#with-check" class="header-anchor">#</a> With Check</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">REPLACE</span> <span class="token keyword">view</span> empvu20
<span class="token keyword">as</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees
<span class="token keyword">where</span> departmentid <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">with</span> <span class="token keyword">check</span> <span class="token keyword">option</span> <span class="token keyword">constraint</span> empvu20_ck

<span class="token comment">-- STOPS any insert of a row that does not use department 20</span>
<span class="token comment">-- Any update to department number in the view</span>

</code></pre></div><h2 id="stopping-all-dml"><a href="#stopping-all-dml" class="header-anchor">#</a> Stopping all DML</h2> <p>You can ensure that DML is disabled by adding WITH READ ONLY</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">REPLACE</span> <span class="token keyword">view</span> empvu20
<span class="token keyword">as</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees
<span class="token keyword">where</span> departmentid <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">WITH</span> <span class="token keyword">READ</span> ONLY
</code></pre></div><h2 id="removing-a-view"><a href="#removing-a-view" class="header-anchor">#</a> Removing a view</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">view</span> empvu80
</code></pre></div><h2 id="sequence"><a href="#sequence" class="header-anchor">#</a> Sequence</h2> <ol><li>used to automatically generate unique numbers</li> <li>sharable object</li> <li>can be used to create a primary key value</li> <li>replaces application code</li> <li>speeds up the efficiency of accesssing sequence values when cached</li></ol> <h2 id="creating-sequence"><a href="#creating-sequence" class="header-anchor">#</a> Creating Sequence</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> SEQUENCE sequence		<span class="token comment">-- name of sequence</span>
<span class="token punctuation">[</span>INCREMENT <span class="token keyword">BY</span> n<span class="token punctuation">]</span>			<span class="token comment">-- specifies increment value</span>
<span class="token punctuation">[</span><span class="token keyword">START</span> <span class="token keyword">WITH</span> n<span class="token punctuation">]</span>			<span class="token comment">-- Starting (default 1 if omitted</span>
<span class="token punctuation">[</span>{MAXVALUE n <span class="token operator">|</span> NOMAXVALUE}<span class="token punctuation">]</span>	<span class="token comment">-- maximum value – default is nomax</span>
<span class="token punctuation">[</span>{MINVALUE n <span class="token operator">|</span> NOMINVALUE}<span class="token punctuation">]</span> <span class="token comment">-- this is default if not stated</span>
<span class="token punctuation">[</span>{<span class="token keyword">CYCLE</span> <span class="token operator">|</span> NOCYCLE}<span class="token punctuation">]</span>		<span class="token comment">-- allows recycling of numbers–reuse</span>
<span class="token punctuation">[</span>{CACHE n <span class="token operator">|</span> NOCACHE}<span class="token punctuation">]</span><span class="token punctuation">;</span>		<span class="token comment">-- allows caching x values-faster</span>


<span class="token keyword">create</span> sequence dept_deptid_seq
  increment <span class="token keyword">by</span> <span class="token number">10</span>
  <span class="token keyword">start</span> <span class="token keyword">with</span> <span class="token number">120</span>
  maxvalue <span class="token number">9999</span>
  nocache
  nocycle<span class="token punctuation">;</span>
</code></pre></div><h2 id="nextval-and-currval"><a href="#nextval-and-currval" class="header-anchor">#</a> Nextval and currval</h2> <p>NEXTVAL</p> <ul><li>used to extract successive sequence number</li> <li>returns the next available sequence value.
It returns a unique value every time it is referenced, even for different users.</li></ul> <p>Specify NEXTVAL and the sequence name</p> <ul><li><p>CURRVAL obtains the current sequence value.</p></li> <li><p>NEXTVAL must be issued for that sequence before CURRVAL contains a value.</p></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> departments <span class="token punctuation">(</span>departmentid<span class="token punctuation">,</span> departmentname<span class="token punctuation">,</span> locationid<span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span>dept_deptid_seq<span class="token punctuation">.</span>nextval<span class="token punctuation">,</span> <span class="token string">'support'</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span>

<span class="token comment">--because you have a sequence you do not need to look up the table to figure out the next primary key id</span>
</code></pre></div><h2 id="caching"><a href="#caching" class="header-anchor">#</a> Caching</h2> <ul><li><p>Caching sequence values in memory gives faster access to those values.</p> <pre><code>	- Less going out to disk to retrieve the latest number an update it
</code></pre></li> <li><p>Gaps in sequence values can occur when:</p></li></ul> <ul><li><p>A rollback occurs</p></li> <li><p>The system crashes</p></li> <li><p>A sequence is used in another table (rare)</p></li></ul> <h2 id="modding-sequence"><a href="#modding-sequence" class="header-anchor">#</a> Modding Sequence</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">alter</span> sequence dept_deptid_seq
increment <span class="token keyword">by</span> <span class="token number">20</span>
maxvalue <span class="token number">20000</span>
nocache
nocycle<span class="token punctuation">;</span>
</code></pre></div><h2 id="guidelines"><a href="#guidelines" class="header-anchor">#</a> Guidelines:</h2> <ul><li><p>You must be the owner or have the ALTER privilege for the sequence.</p></li> <li><p>Only future sequence numbers are affected.</p></li> <li><p>The sequence must be dropped and re-created to restart the sequence at a different number.</p></li> <li><p>Some validation is performed.</p></li> <li><p>To remove a sequence, use the DROP statement:</p></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> SEQUENCE dept_deptid_seq<span class="token punctuation">;</span>
</code></pre></div><h2 id="index"><a href="#index" class="header-anchor">#</a> Index</h2> <h3 id="is-used-by-the-oracle-server-to-speed-up-the-retrieval-of-rows-by-using-a-pointer"><a href="#is-used-by-the-oracle-server-to-speed-up-the-retrieval-of-rows-by-using-a-pointer" class="header-anchor">#</a> Is used by the Oracle server to speed up the retrieval of rows by using a pointer.</h3> <p>If you do not have an index on the column then a FULL table scan is required.</p> <h3 id="can-reduce-i-o"><a href="#can-reduce-i-o" class="header-anchor">#</a> Can reduce I/O</h3> <p>The purpose of an index is to reduce I/O in accessing required data from disk</p> <h3 id="independent-of-the-table"><a href="#independent-of-the-table" class="header-anchor">#</a> Independent of the table</h3> <p>By being independent of the underlying table the index can be dropped or created with no effect on the data in the table or other indexes.</p> <p>NOTE: Dropping a table will also drop any corresponding indexes.</p> <h3 id="maintained-automatically-by-oracle-server"><a href="#maintained-automatically-by-oracle-server" class="header-anchor">#</a> Maintained automatically by Oracle Server</h3> <p>No programmer or user activity is required to maintain the index once it is created.</p> <p>DBA usually creates and decides on index</p> <h2 id="what-to-index"><a href="#what-to-index" class="header-anchor">#</a> What to index?</h2> <p>EXAMPLE:
Consider EMPLOYEE table
Would you index</p> <ul><li>last name - YES</li> <li>job_id - not likely as it repeats a lot</li> <li>email - maybe – don't know. Depends on if it is searched a lot</li> <li>salary - only if use it as a search condition a lot</li></ul> <h2 id="creating-index"><a href="#creating-index" class="header-anchor">#</a> Creating Index</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> emp_last_name_idx <span class="token comment">-- note naming convention</span>
<span class="token keyword">ON</span> 	employees <span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="some-rules-on-indexes"><a href="#some-rules-on-indexes" class="header-anchor">#</a> SOME RULES ON INDEXES</h2> <ol><li>The column is used often in a where clause and the table is large.</li></ol> <p>Example 1:
In the lost or stolen credit card department, many callers do not have the credit card number handy. The company uses the name to seek your information. With millions of credit card users an index would be faster.</p> <p>Example 2:
A customer phones to place an order for product. The customer number is your company’s reference number and often is unknown to the caller. Again a search by name is often used.</p> <ol start="2"><li>The table is very large and most retrievals display a small amount of data.</li></ol> <p>The above example and reporting/queries that retrieve 1 to 5% of the data.</p> <h2 id="trade-off"><a href="#trade-off" class="header-anchor">#</a> TRADE-OFF</h2> <p>More indices do no speed the processing overall.</p> <ul><li>For every index there is overhead activities to maintain the index.</li></ul> <ul><li>Null values are not included in the index</li></ul> <h2 id="removing-indexes"><a href="#removing-indexes" class="header-anchor">#</a> Removing indexes</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> emp_last_name_idx<span class="token punctuation">;</span>
</code></pre></div><ul><li>Can't be modified. Must drop and add</li> <li>Must be owner to be able to DROP Or have privilege</li></ul> <p>Must be owner to be able to DROP
Or have privilege</p> <p>What happens to the data - NOTHING</p> <p>What happens to an application - NOTHING – may run slower</p> <p>What is effected – just the speed of searches</p> <p>DROP SEQUENCE -- Data not effected
-- Code might be if it uses the sequence</p> <p>Code never has an index in it</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>Drop a table, indexes and sequence automatically dropped.
Views remain</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Lesson11.html" class="prev">Lesson 11 Manage Schema Objects - Altering Tables</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5a6969a4.js" defer></script><script src="/assets/js/2.8cd1edd2.js" defer></script><script src="/assets/js/8.6cd612cd.js" defer></script>
  </body>
</html>
