<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lesson 3 Single Row Functions | SQL Lessons</title>
    <meta name="description" content="SQL Lessons">
    
    
    <link rel="preload" href="/osqlnotes/assets/css/0.styles.c566d983.css" as="style"><link rel="preload" href="/osqlnotes/assets/js/app.97a6742f.js" as="script"><link rel="preload" href="/osqlnotes/assets/js/2.8cd1edd2.js" as="script"><link rel="preload" href="/osqlnotes/assets/js/10.6e9cee4f.js" as="script"><link rel="prefetch" href="/osqlnotes/assets/js/11.96031474.js"><link rel="prefetch" href="/osqlnotes/assets/js/12.466d5af4.js"><link rel="prefetch" href="/osqlnotes/assets/js/13.e68d3448.js"><link rel="prefetch" href="/osqlnotes/assets/js/14.13c5430f.js"><link rel="prefetch" href="/osqlnotes/assets/js/15.10c781f9.js"><link rel="prefetch" href="/osqlnotes/assets/js/16.1a525148.js"><link rel="prefetch" href="/osqlnotes/assets/js/17.df35e1c0.js"><link rel="prefetch" href="/osqlnotes/assets/js/18.15b86135.js"><link rel="prefetch" href="/osqlnotes/assets/js/3.666663bc.js"><link rel="prefetch" href="/osqlnotes/assets/js/4.688aea8c.js"><link rel="prefetch" href="/osqlnotes/assets/js/5.22e3cbc4.js"><link rel="prefetch" href="/osqlnotes/assets/js/6.8d98af04.js"><link rel="prefetch" href="/osqlnotes/assets/js/7.1154f5cc.js"><link rel="prefetch" href="/osqlnotes/assets/js/8.6cd612cd.js"><link rel="prefetch" href="/osqlnotes/assets/js/9.7de680e0.js">
    <link rel="stylesheet" href="/osqlnotes/assets/css/0.styles.c566d983.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/osqlnotes/" class="home-link router-link-active"><!----> <span class="site-name">SQL Lessons</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/osqlnotes/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/osqlnotes/Lesson1.html" class="nav-link">L1</a></div><div class="nav-item"><a href="/osqlnotes/Lesson2.html" class="nav-link">L2</a></div><div class="nav-item"><a href="/osqlnotes/Lesson3.html" class="nav-link router-link-exact-active router-link-active">L3</a></div><div class="nav-item"><a href="/osqlnotes/Lesson4.html" class="nav-link">L4</a></div><div class="nav-item"><a href="/osqlnotes/Lesson5.html" class="nav-link">L5</a></div><div class="nav-item"><a href="/osqlnotes/Lesson6.html" class="nav-link">L6</a></div><div class="nav-item"><a href="/osqlnotes/Lesson7.html" class="nav-link">L7</a></div><div class="nav-item"><a href="/osqlnotes/Lesson8.html" class="nav-link">L8</a></div><div class="nav-item"><a href="/osqlnotes/Lesson9.html" class="nav-link">L9</a></div><div class="nav-item"><a href="/osqlnotes/Lesson10.html" class="nav-link">L10</a></div><div class="nav-item"><a href="/osqlnotes/Lesson11.html" class="nav-link">L11</a></div><div class="nav-item"><a href="/osqlnotes/Lesson12.html" class="nav-link">L12</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/osqlnotes/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/osqlnotes/Lesson1.html" class="nav-link">L1</a></div><div class="nav-item"><a href="/osqlnotes/Lesson2.html" class="nav-link">L2</a></div><div class="nav-item"><a href="/osqlnotes/Lesson3.html" class="nav-link router-link-exact-active router-link-active">L3</a></div><div class="nav-item"><a href="/osqlnotes/Lesson4.html" class="nav-link">L4</a></div><div class="nav-item"><a href="/osqlnotes/Lesson5.html" class="nav-link">L5</a></div><div class="nav-item"><a href="/osqlnotes/Lesson6.html" class="nav-link">L6</a></div><div class="nav-item"><a href="/osqlnotes/Lesson7.html" class="nav-link">L7</a></div><div class="nav-item"><a href="/osqlnotes/Lesson8.html" class="nav-link">L8</a></div><div class="nav-item"><a href="/osqlnotes/Lesson9.html" class="nav-link">L9</a></div><div class="nav-item"><a href="/osqlnotes/Lesson10.html" class="nav-link">L10</a></div><div class="nav-item"><a href="/osqlnotes/Lesson11.html" class="nav-link">L11</a></div><div class="nav-item"><a href="/osqlnotes/Lesson12.html" class="nav-link">L12</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/osqlnotes/" class="sidebar-link">osqlnotes</a></li><li><a href="/osqlnotes/Lesson1.html" class="sidebar-link">Lesson 1 Select</a></li><li><a href="/osqlnotes/Lesson2.html" class="sidebar-link">Lesson 2 Where</a></li><li><a href="/osqlnotes/Lesson3.html" class="active sidebar-link">Lesson 3 Single Row Functions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#single-row-functions-2" class="sidebar-link">Single Row Functions</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#character-functions" class="sidebar-link">Character Functions</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#examples" class="sidebar-link">Examples</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#number-functions" class="sidebar-link">Number functions</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#dates" class="sidebar-link">Dates</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#arithmetic-with-dates" class="sidebar-link">Arithmetic with Dates</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#using-date-functions" class="sidebar-link">Using date functions</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#using-to-char-with-dates-fmt-format-model" class="sidebar-link">Using to_char with dates fmt format model</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#format-model" class="sidebar-link">Format Model</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#elements-of-date-format-model" class="sidebar-link">Elements of Date format model</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#business-use-dates-fyi" class="sidebar-link">Business use dates fyi</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#using-to-char-with-number" class="sidebar-link">Using TO_CHAR with number</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#convert-character-string-to-number-or-date" class="sidebar-link">Convert character string to number or date</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#nesting-functions" class="sidebar-link">Nesting Functions</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#general-functions-handling-nulls" class="sidebar-link">General Functions - Handling Nulls</a></li><li class="sidebar-sub-header"><a href="/osqlnotes/Lesson3.html#case" class="sidebar-link">Case</a></li></ul></li><li><a href="/osqlnotes/Lesson4.html" class="sidebar-link">Lesson 4 Group Functions pt.1</a></li><li><a href="/osqlnotes/Lesson5.html" class="sidebar-link">Lesson 5 Joining tables</a></li><li><a href="/osqlnotes/Lesson6.html" class="sidebar-link">Lesson 6 Using Sub-queries</a></li><li><a href="/osqlnotes/Lesson7.html" class="sidebar-link">Lesson 7 Quiz Questions</a></li><li><a href="/osqlnotes/Lesson8.html" class="sidebar-link">Lesson 8 Set operators</a></li><li><a href="/osqlnotes/Lesson9.html" class="sidebar-link">Lesson 9 DML Manipulating Data</a></li><li><a href="/osqlnotes/Lesson10.html" class="sidebar-link">Lesson 10 Create Manage Tables</a></li><li><a href="/osqlnotes/Lesson11.html" class="sidebar-link">Lesson 11 Manage Schema Objects - Altering Tables</a></li><li><a href="/osqlnotes/Lesson12.html" class="sidebar-link">Lesson 12 Index-Dictionary Views</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lesson-3-single-row-functions"><a href="#lesson-3-single-row-functions" class="header-anchor">#</a> Lesson 3 Single Row Functions</h1> <ul><li>Perform calculations on data</li> <li>Modify individual data items</li> <li>Manipulate output for groups of rows</li> <li>Format dates and numbers for display</li> <li>Convert column data types</li></ul> <ul><li>SQL functions sometimes take arguments and always return a value</li></ul> <p>There are also Multi - row functions</p> <h3 id="single-row-functions"><a href="#single-row-functions" class="header-anchor">#</a> Single-Row Functions</h3> <p>These functions operate on single rows only and return one result for every row acted on.
There are different types of Single-Row functions as follows:</p> <ul><li>Character</li> <li>Number</li> <li>Date</li> <li>Conversion</li> <li>General</li></ul> <h3 id="multi-row-functions"><a href="#multi-row-functions" class="header-anchor">#</a> Multi-row functions</h3> <p>Functions can manipulate groups of rows to give one result per group of rows.
These functions are also called group functions.</p> <h2 id="single-row-functions-2"><a href="#single-row-functions-2" class="header-anchor">#</a> Single Row Functions</h2> <ul><li>Manipulate data items</li> <li>accept args and returns one value</li> <li>act on each row that is return</li> <li>return one result per row</li> <li>modify the data type</li> <li>can be nested</li> <li>accept arguments that can be a column or expression</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>functionName<span class="token punctuation">[</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="character-functions"><a href="#character-functions" class="header-anchor">#</a> Character Functions</h2> <h3 id="case-manipulation"><a href="#case-manipulation" class="header-anchor">#</a> Case manipulation</h3> <ul><li>LOWER()</li> <li>UPPER()</li> <li>INITCAP</li></ul> <h3 id="character-manipulation"><a href="#character-manipulation" class="header-anchor">#</a> Character manipulation</h3> <ul><li>SUBSTR – needs string or column and starting position and length</li> <li>CONCAT – like || -- needs 2 arguments</li> <li>LENGTH – returns number of characters in the expression</li></ul> <p>SELECT LENGTH (CONCAT (first_name, last_name)) from employees</p> <ul><li>INSTR – returns the numeric position of a named string
-- you can give it a starting position before counting</li> <li>LPAD – pads the character value right justified</li> <li>RPAD – pads the character value shown by the amount not filled by the filed</li></ul> <p>select RPAD ( first_name, 9 , '*' ) from employees</p> <ul><li>TRIM</li> <li>REPLACE</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token string">'the jobid for '</span> <span class="token operator">||</span> UPPER<span class="token punctuation">(</span>lastname<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">' is '</span> <span class="token operator">||</span> LOWER<span class="token punctuation">(</span>jobid<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;Employee Details&quot;</span>
<span class="token keyword">from</span> employees

output:
<span class="token string">'The jobid for KING is ad_pres'</span>
</code></pre></div><table><thead><tr><th style="text-align:center;">Function</th> <th style="text-align:center;">Result</th></tr></thead> <tbody><tr><td style="text-align:center;">concat('hello', 'world')</td> <td style="text-align:center;">helloworld</td></tr> <tr><td style="text-align:center;">substr('helloworld', 1,5)</td> <td style="text-align:center;">hello</td></tr> <tr><td style="text-align:center;">length('helloworld')</td> <td style="text-align:center;">10</td></tr> <tr><td style="text-align:center;">INSTR('helloworld', 'W')</td> <td style="text-align:center;">6</td></tr> <tr><td style="text-align:center;">LPAD(salary, 10, '*')</td> <td style="text-align:center;">*****24000</td></tr> <tr><td style="text-align:center;">RPAD(salary, 10, '*')</td> <td style="text-align:center;">24000*****</td></tr> <tr><td style="text-align:center;">REPLACE('HELLOWORLD', 'HELLO', 'BYE')</td> <td style="text-align:center;">BYEWORLD</td></tr> <tr><td style="text-align:center;">TRIM('H' from 'HELLOWORLD')</td> <td style="text-align:center;">ELLOWORLD</td></tr></tbody></table> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> employeeid <span class="token punctuation">,</span> concat<span class="token punctuation">(</span>firstname<span class="token punctuation">,</span> lastname<span class="token punctuation">)</span> NAME<span class="token punctuation">,</span> jobid<span class="token punctuation">,</span> length<span class="token punctuation">(</span>lastname<span class="token punctuation">)</span><span class="token punctuation">,</span>
instr<span class="token punctuation">(</span>lastname<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token string">&quot;'contains 'a'?&quot;</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> substr<span class="token punctuation">(</span>jobid<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'rep'</span>
</code></pre></div><ol><li>first names and last names joined together,</li> <li>the length of the employee last name, and</li> <li>the numeric position of the letter a in the string, employee last name</li></ol> <p>For all employees</p> <pre><code>Who have the string REP contained in the job ID

Starting at the fourth position of the job ID.
</code></pre> <p>Modify the SQL statement in the slide to display the data for those employees whose last names end with the letter n</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WHERE</span>  	SUBSTR<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'n'</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The -1 means start at 1 less than the end and process 1 value (which is now the end)
-- And is that value equal to n</p></div> <h2 id="number-functions"><a href="#number-functions" class="header-anchor">#</a> Number functions</h2> <ul><li>ROUND(value, dec)</li> <li>TRUNC(value, dec)</li> <li>MOD (value, divisor)</li></ul> <p>DUAL can be used as dummy table // mysql you can just omit from dual</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">25.923</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> dual
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>if 0 or no value, it will be rounded to 0 decimal places</p></div> <h2 id="dates"><a href="#dates" class="header-anchor">#</a> Dates</h2> <ul><li>oracle db stores dates in a internal numeric format, century, year, month, day,hour,minuntes,seconds.</li> <li>the default format is DD-MON-RR</li> <li>enables you to store 21st cent. dates in the 20th century by specifying only the last two digits of the year
*enables you to store the 20th-century dates in the 21st century the same way</li></ul> <p>::tip
RR goes back to pre-2000 times to avoid a problem
::
sysdate is function that returns date and time</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> sysdate <span class="token keyword">from</span> dual
</code></pre></div><h2 id="arithmetic-with-dates"><a href="#arithmetic-with-dates" class="header-anchor">#</a> Arithmetic with Dates</h2> <p>Since dates are stored as numbers, you can perform calculations and use operators on them.</p> <h3 id="examples-2"><a href="#examples-2" class="header-anchor">#</a> examples</h3> <p>Find how many weeks an employee has worked in the company and only in department 90</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">,</span> <span class="token punctuation">(</span>sysdate <span class="token operator">-</span> hiredate<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">7</span> <span class="token string">&quot;Weeks employed&quot;</span>
<span class="token keyword">from</span> employee
<span class="token keyword">where</span> department_id <span class="token operator">=</span> <span class="token number">90</span>
</code></pre></div><p>we can trunc((sysdate - hiredate) / 7, 2 ) so that we can get to 2 decimal place</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Date functions will return oracle date types with the exception of MONTHS_BETWEEN which returns number.</p> <ul><li>months_between(date1, date2) finds the number of months between date 1 and 2, the result can be negative or positive</li></ul></div> <h3 id="date-functions"><a href="#date-functions" class="header-anchor">#</a> date functions</h3> <ul><li>add_months(date, n)</li> <li>next_date(date, 'char') finds the date of the next specified day of the week</li> <li>last_day(date) finds the last day of the month</li> <li>round (date[,'fmt']) returns the date rounded to the unit that is specified by the format model, if fmt is omitted, date is founded to the nearest day</li> <li>trunc(date[, 'fmt'])</li></ul> <h2 id="using-date-functions"><a href="#using-date-functions" class="header-anchor">#</a> Using date functions</h2> <div class="language-sql extra-class"><pre class="language-sql"><code>months_between<span class="token punctuation">(</span><span class="token string">'01-sep-95'</span><span class="token punctuation">,</span> <span class="token string">'11-jan-84'</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token number">19.677</span>

add_months<span class="token punctuation">(</span><span class="token string">'11-jan-94'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token string">'11-jul-94'</span>
next_day<span class="token punctuation">(</span><span class="token string">'01-sep-95'</span><span class="token punctuation">,</span> <span class="token string">'FRIDAY'</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token string">'08-sep-95'</span>
last_day<span class="token punctuation">(</span><span class="token string">'01-feb-95'</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token string">'28-feb-95'</span>
</code></pre></div><h3 id="example"><a href="#example" class="header-anchor">#</a> example</h3> <p>Display the empid, hiredate, number of months employeed, six-months from now is the employee review date,
first friday after hire_date and last day of the hire month for all employees employees employeed fewer than 70months</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> empid<span class="token punctuation">,</span> hiredate<span class="token punctuation">,</span>
months_between<span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span> hiredate<span class="token punctuation">)</span> <span class="token string">&quot;months employeed&quot;</span><span class="token punctuation">,</span>
add_months<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;review date&quot;</span><span class="token punctuation">,</span>
next_day<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">'friday'</span><span class="token punctuation">)</span> <span class="token string">&quot;friday&quot;</span><span class="token punctuation">,</span>
last_day<span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> months_between<span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span> hiredate<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">70</span>
</code></pre></div><p>assume sysdate = '25-jul-03'</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">round</span><span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span> <span class="token string">'MONTH'</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token string">'01-aug-03'</span>
<span class="token function">round</span><span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span> <span class="token string">'YEAR'</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token string">'01-jan-04'</span>
trunc<span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span> <span class="token string">'month'</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token string">'01-jul-03'</span>
trunc<span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span> <span class="token string">'YEAR'</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token string">'01-jan-03'</span>
</code></pre></div><p>compare the hire dates for all employees who started in 1997. Display the employee number, hiredate, startmonth using the round and trunc functions</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span>
empid<span class="token punctuation">,</span>
hiredate<span class="token punctuation">,</span>
<span class="token function">round</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">'month'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;start month rounded&quot;</span><span class="token punctuation">,</span>
trunc<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">'month'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;start month trunc&quot;</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> hiredate <span class="token operator">like</span> <span class="token string">'%97'</span>
</code></pre></div><h2 id="using-to-char-with-dates-fmt-format-model"><a href="#using-to-char-with-dates-fmt-format-model" class="header-anchor">#</a> Using to_char with dates fmt format model</h2> <ul><li>TO_CHAR(date, 'format_model')</li></ul> <p>The format model:</p> <ul><li>must be enclosed by single quotes</li> <li>case sensitive</li> <li>has fm element to remove padded blanks or suppress leading zeroes</li> <li>is seperated from the date value by a comma</li></ul> <div class="language-sql example extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'YYYY-Month-DD'</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token number">10000</span>

<span class="token keyword">select</span> lastname<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'MM/YY'</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> lastname <span class="token operator">like</span> <span class="token string">'H%'</span>
</code></pre></div><h2 id="format-model"><a href="#format-model" class="header-anchor">#</a> Format Model</h2> <table><thead><tr><th style="text-align:center;">Element</th> <th style="text-align:center;">Result</th></tr></thead> <tbody><tr><td style="text-align:center;">YYYY</td> <td style="text-align:center;">Full year in numbers</td></tr> <tr><td style="text-align:center;">YEAR</td> <td style="text-align:center;">Year spelt in english</td></tr> <tr><td style="text-align:center;">MM</td> <td style="text-align:center;">two digit value for month</td></tr> <tr><td style="text-align:center;">MONTH</td> <td style="text-align:center;">full name of the month</td></tr> <tr><td style="text-align:center;">MON</td> <td style="text-align:center;">3 letter abbre of month</td></tr> <tr><td style="text-align:center;">DY</td> <td style="text-align:center;">three letter abbre of the day of the week</td></tr> <tr><td style="text-align:center;">DAY</td> <td style="text-align:center;">Full name of day of week</td></tr> <tr><td style="text-align:center;">DD</td> <td style="text-align:center;">numeric day of the month</td></tr></tbody></table> <p>MANY MORE, GOOGLE THEM</p> <h2 id="elements-of-date-format-model"><a href="#elements-of-date-format-model" class="header-anchor">#</a> Elements of Date format model</h2> <p>Time elements format the time portion of the date:</p> <ul><li>HH24:MI:SS AM =&gt; 15:45:32 PM</li></ul> <p>Add character strings by enclosing them in double quotes</p> <ul><li>DD &quot;of&quot; Month =&gt; 12 of OCTOBER</li></ul> <p>Number suffixes spell out numbers</p> <ul><li>Ddspth =&gt; Fourteenth</li></ul> <h2 id="business-use-dates-fyi"><a href="#business-use-dates-fyi" class="header-anchor">#</a> Business use dates fyi</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">,</span>
to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'fmDD Month YYYY'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;HIREDATE&quot;</span>
<span class="token keyword">from</span> employee
<span class="token keyword">where</span> hiredate <span class="token operator">like</span> <span class="token string">'%97%'</span>
</code></pre></div><h3 id="using-to-char-to-add-more-control"><a href="#using-to-char-to-add-more-control" class="header-anchor">#</a> using to_char to add more control</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">.</span>
to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'fmDdspth &quot;of&quot; Month YYYY fmHH:MI'</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> employees

<span class="token keyword">returns</span>
KING <span class="token operator">|</span> seventeenth <span class="token keyword">of</span> June <span class="token number">2019</span> <span class="token number">12</span>:<span class="token number">00</span>
</code></pre></div><h2 id="using-to-char-with-number"><a href="#using-to-char-with-number" class="header-anchor">#</a> Using TO_CHAR with number</h2> <p>TO_CHAR(number, 'format_model')</p> <p>These are some of the format elements you can use to_char to display number values as characters:</p> <table><thead><tr><th style="text-align:center;">Element</th> <th style="text-align:center;">Result</th></tr></thead> <tbody><tr><td style="text-align:center;">9</td> <td style="text-align:center;">represents a number</td></tr> <tr><td style="text-align:center;">0</td> <td style="text-align:center;">forces a zero to be displayed</td></tr> <tr><td style="text-align:center;">$</td> <td style="text-align:center;">places floating dollar</td></tr> <tr><td style="text-align:center;">L</td> <td style="text-align:center;">uses floating local currency symbol</td></tr> <tr><td style="text-align:center;">.</td> <td style="text-align:center;">places decimal point</td></tr> <tr><td style="text-align:center;">,</td> <td style="text-align:center;">places thousands indicator</td></tr></tbody></table> <div class="language-sql example extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">,</span> to_char<span class="token punctuation">(</span>salary<span class="token punctuation">,</span> <span class="token string">'$99,999.00'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;SALARY&quot;</span><span class="token punctuation">,</span>
<span class="token keyword">from</span> employees

<span class="token keyword">returns</span>

King <span class="token operator">|</span> $<span class="token number">24</span><span class="token punctuation">,</span><span class="token number">000.00</span>
</code></pre></div><h2 id="convert-character-string-to-number-or-date"><a href="#convert-character-string-to-number-or-date" class="header-anchor">#</a> Convert character string to number or date</h2> <p>TO_NUMBER(char[, 'format_model'])</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> to_number<span class="token punctuation">(</span><span class="token string">'1234'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span>
<span class="token keyword">from</span> dual
</code></pre></div><p>TO_DATE(char[, 'format_model'])</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">,</span> to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'DD-Mon-YYYY'</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> hiredate <span class="token operator">&lt;</span> to_date<span class="token punctuation">(</span><span class="token string">'01-JAN-90'</span><span class="token punctuation">,</span> <span class="token string">'DD-Mon-YY'</span><span class="token punctuation">)</span> <span class="token comment">// YY assumes 2090</span>

<span class="token keyword">select</span> lastname<span class="token punctuation">,</span> to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'DD-Mon-YYYY'</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> hiredate <span class="token operator">&lt;</span> to_date<span class="token punctuation">(</span><span class="token string">'01-JAN-90'</span><span class="token punctuation">,</span> <span class="token string">'DD-Mon-RR'</span><span class="token punctuation">)</span> <span class="token comment">// RR assumes 1990</span>
</code></pre></div><h3 id="examples-3"><a href="#examples-3" class="header-anchor">#</a> examples</h3> <p>Find employees hired on May 24, 1999</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">,</span> hiredate
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> hiredate <span class="token operator">=</span> to_date<span class="token punctuation">(</span><span class="token string">'May-24-99'</span><span class="token punctuation">,</span> <span class="token string">'Mon-dd,RR'</span><span class="token punctuation">)</span>

<span class="token keyword">select</span> lastname<span class="token punctuation">,</span> hiredate
<span class="token keyword">from</span> employees
<span class="token keyword">where</span> hiredate <span class="token operator">=</span> to_date<span class="token punctuation">(</span><span class="token string">'May 24, 1999'</span><span class="token punctuation">,</span> <span class="token string">'fxMonth DD, YYYY'</span><span class="token punctuation">)</span>

<span class="token comment">// the spaces are importance in the second select statement</span>
</code></pre></div><h2 id="nesting-functions"><a href="#nesting-functions" class="header-anchor">#</a> Nesting Functions</h2> <ul><li>single row func can be nested to any level</li> <li>nested functions evaluated from innermost to outermost</li></ul> <h3 id="example-2"><a href="#example-2" class="header-anchor">#</a> example</h3> <p>Display the lastname of employess from department 60</p> <p>their new email name is made up of the first 4 characters of lastname with _US added all to appear in uppercase</p> <p>make title of column 2 nice looking</p> <p>eg. Higgins becomes HIGG_US</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname
concat UPPER<span class="token punctuation">(</span><span class="token punctuation">(</span>substr<span class="token punctuation">(</span>lastname<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'_US'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">as</span><span class="token string">&quot;Email&quot;</span>
 <span class="token keyword">from</span> employees
 <span class="token keyword">where</span> departmentid <span class="token operator">=</span> <span class="token number">90</span>
</code></pre></div><h2 id="general-functions-handling-nulls"><a href="#general-functions-handling-nulls" class="header-anchor">#</a> General Functions - Handling Nulls</h2> <ul><li>NVL(expr1, expr2)</li> <li>NVL2(expr1, expr2, expr3)</li> <li>NULLIF(expr1, expr2)</li> <li>COALESCE(expr1, expr2, ... )</li></ul> <p>Most commonly used is NVL</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>	last_name<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> salary<span class="token operator">*</span> nvl<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span>		employees<span class="token punctuation">;</span>

<span class="token keyword">returns</span> <span class="token number">0</span> <span class="token string">'if the value is null'</span>

NVL <span class="token punctuation">(</span>hire_date<span class="token punctuation">,</span> <span class="token string">'01-JAN-2015'</span><span class="token punctuation">)</span>
NVL <span class="token punctuation">(</span>city<span class="token punctuation">,</span> <span class="token string">'Unavailable'</span> <span class="token punctuation">)</span>
</code></pre></div><h2 id="case"><a href="#case" class="header-anchor">#</a> Case</h2> <p>Facilitate conditional inquires following
column-when-then else end statement</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> lastname<span class="token punctuation">,</span> jobid<span class="token punctuation">,</span> salary
  <span class="token keyword">case</span>
    jobid <span class="token keyword">when</span> <span class="token string">'it_prog'</span> <span class="token keyword">then</span> salary <span class="token number">1.10</span><span class="token operator">*</span>salary
     <span class="token keyword">when</span> <span class="token string">'st_clerk'</span> <span class="token keyword">then</span> salary <span class="token number">1.15</span><span class="token operator">*</span>salary
     <span class="token keyword">when</span> <span class="token string">'sa_rep'</span> <span class="token keyword">then</span> salary <span class="token number">1.20</span><span class="token operator">*</span>salary
  <span class="token keyword">else</span> salary <span class="token keyword">end</span> <span class="token string">&quot;Revised Salary&quot;</span>

<span class="token keyword">from</span> employees

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/osqlnotes/Lesson2.html" class="prev">Lesson 2 Where</a></span> <span class="next"><a href="/osqlnotes/Lesson4.html">Lesson 4 Group Functions pt.1</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/osqlnotes/assets/js/app.97a6742f.js" defer></script><script src="/osqlnotes/assets/js/2.8cd1edd2.js" defer></script><script src="/osqlnotes/assets/js/10.6e9cee4f.js" defer></script>
  </body>
</html>
