<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lesson 10 Create Manage Tables | SQL Lessons</title>
    <meta name="description" content="SQL Lessons">
    
    
    <link rel="preload" href="/assets/css/0.styles.6efa0621.css" as="style"><link rel="preload" href="/assets/js/app.5a6969a4.js" as="script"><link rel="preload" href="/assets/js/2.8cd1edd2.js" as="script"><link rel="preload" href="/assets/js/6.8d98af04.js" as="script"><link rel="prefetch" href="/assets/js/10.743b6c37.js"><link rel="prefetch" href="/assets/js/11.a14dc7d4.js"><link rel="prefetch" href="/assets/js/12.466d5af4.js"><link rel="prefetch" href="/assets/js/13.e68d3448.js"><link rel="prefetch" href="/assets/js/14.13c5430f.js"><link rel="prefetch" href="/assets/js/15.10c781f9.js"><link rel="prefetch" href="/assets/js/16.ba97c810.js"><link rel="prefetch" href="/assets/js/17.b1ee2921.js"><link rel="prefetch" href="/assets/js/18.15b86135.js"><link rel="prefetch" href="/assets/js/3.666663bc.js"><link rel="prefetch" href="/assets/js/4.688aea8c.js"><link rel="prefetch" href="/assets/js/5.22e3cbc4.js"><link rel="prefetch" href="/assets/js/7.1154f5cc.js"><link rel="prefetch" href="/assets/js/8.6cd612cd.js"><link rel="prefetch" href="/assets/js/9.7de680e0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6efa0621.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SQL Lessons</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/Lesson1.html" class="nav-link">L1</a></div><div class="nav-item"><a href="/Lesson2.html" class="nav-link">L2</a></div><div class="nav-item"><a href="/Lesson3.html" class="nav-link">L3</a></div><div class="nav-item"><a href="/Lesson4.html" class="nav-link">L4</a></div><div class="nav-item"><a href="/Lesson5.html" class="nav-link">L5</a></div><div class="nav-item"><a href="/Lesson6.html" class="nav-link">L6</a></div><div class="nav-item"><a href="/Lesson7.html" class="nav-link">L7</a></div><div class="nav-item"><a href="/Lesson8.html" class="nav-link">L8</a></div><div class="nav-item"><a href="/Lesson9.html" class="nav-link">L9</a></div><div class="nav-item"><a href="/Lesson10.html" class="nav-link router-link-exact-active router-link-active">L10</a></div><div class="nav-item"><a href="/Lesson11.html" class="nav-link">L11</a></div><div class="nav-item"><a href="/Lesson12.html" class="nav-link">L12</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/Lesson1.html" class="nav-link">L1</a></div><div class="nav-item"><a href="/Lesson2.html" class="nav-link">L2</a></div><div class="nav-item"><a href="/Lesson3.html" class="nav-link">L3</a></div><div class="nav-item"><a href="/Lesson4.html" class="nav-link">L4</a></div><div class="nav-item"><a href="/Lesson5.html" class="nav-link">L5</a></div><div class="nav-item"><a href="/Lesson6.html" class="nav-link">L6</a></div><div class="nav-item"><a href="/Lesson7.html" class="nav-link">L7</a></div><div class="nav-item"><a href="/Lesson8.html" class="nav-link">L8</a></div><div class="nav-item"><a href="/Lesson9.html" class="nav-link">L9</a></div><div class="nav-item"><a href="/Lesson10.html" class="nav-link router-link-exact-active router-link-active">L10</a></div><div class="nav-item"><a href="/Lesson11.html" class="nav-link">L11</a></div><div class="nav-item"><a href="/Lesson12.html" class="nav-link">L12</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">osqlnotes</a></li><li><a href="/Lesson1.html" class="sidebar-link">Lesson 1 Select</a></li><li><a href="/Lesson2.html" class="sidebar-link">Lesson 2 Where</a></li><li><a href="/Lesson3.html" class="sidebar-link">Lesson 3 Single Row Functions</a></li><li><a href="/Lesson4.html" class="sidebar-link">Lesson 4 Group Functions pt.1</a></li><li><a href="/Lesson5.html" class="sidebar-link">Lesson 5 Joining tables</a></li><li><a href="/Lesson6.html" class="sidebar-link">Lesson 6 Using Sub-queries</a></li><li><a href="/Lesson7.html" class="sidebar-link">Lesson 7 Quiz Questions</a></li><li><a href="/Lesson8.html" class="sidebar-link">Lesson 8 Set operators</a></li><li><a href="/Lesson9.html" class="sidebar-link">Lesson 9 DML Manipulating Data</a></li><li><a href="/Lesson10.html" class="active sidebar-link">Lesson 10 Create Manage Tables</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Lesson10.html#naming-rules" class="sidebar-link">Naming Rules</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#creating-tables" class="sidebar-link">Creating tables</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#datetime-data-types" class="sidebar-link">Datetime data types</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#overview-of-constraints" class="sidebar-link">Overview of constraints</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#guidelines" class="sidebar-link">Guidelines</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#defining-constraints" class="sidebar-link">Defining Constraints</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#unique" class="sidebar-link">Unique</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#foreign-key" class="sidebar-link">Foreign Key</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#foreign-key-2" class="sidebar-link">Foreign Key</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#check-constraint" class="sidebar-link">Check Constraint</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#violating-constraints-on-delete" class="sidebar-link">Violating Constraints on delete</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#create-table-via-subquery" class="sidebar-link">Create Table via subquery</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#alter-table" class="sidebar-link">Alter Table</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#dropping-a-table" class="sidebar-link">Dropping a Table</a></li><li class="sidebar-sub-header"><a href="/Lesson10.html#tic-table-instance-chart" class="sidebar-link">TIC Table Instance Chart</a></li></ul></li><li><a href="/Lesson11.html" class="sidebar-link">Lesson 11 Manage Schema Objects - Altering Tables</a></li><li><a href="/Lesson12.html" class="sidebar-link">Lesson 12 Index-Dictionary Views</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lesson-10-create-manage-tables"><a href="#lesson-10-create-manage-tables" class="header-anchor">#</a> Lesson 10 Create Manage Tables</h1> <h2 id="naming-rules"><a href="#naming-rules" class="header-anchor">#</a> Naming Rules</h2> <ul><li>Begin with a letter</li> <li>Be 1–30 characters long</li> <li>Contain only A–Z, a–z, 0–9, _, $, and #</li> <li>Cannot duplicate the name of another object owned by the same user</li> <li>Cannot be an Oracle server–reserved word</li></ul> <h2 id="creating-tables"><a href="#creating-tables" class="header-anchor">#</a> Creating tables</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token punctuation">[</span><span class="token keyword">schema</span><span class="token punctuation">.</span><span class="token keyword">table</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">column</span> datatye <span class="token punctuation">[</span><span class="token keyword">default</span> expr<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">create</span> <span class="token keyword">table</span> dept
  <span class="token punctuation">(</span>
    deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    dname varchar2<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    loc varchar2<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    createdate <span class="token keyword">date</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">describe</span> dept<span class="token punctuation">;</span>

  <span class="token keyword">rollback</span>
</code></pre></div><p>with default expr</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span>	HIRE_DATES
	<span class="token punctuation">(</span>	ID	NUMBER<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		HIRE_DATE	<span class="token keyword">DATE</span>	<span class="token keyword">DEFAULT</span> SYSDATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><table><thead><tr><th style="text-align:center;">Datatype</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">VARCHAR2</td> <td style="text-align:center;">(size) Maximum size needs to be specified (up to 4000)</td></tr> <tr><td style="text-align:center;">CHAR</td> <td style="text-align:center;">Fixed Length size to maximum 2000</td></tr> <tr><td style="text-align:center;">NUMBER (p, s)</td> <td style="text-align:center;">P is precision or total number of decimal digit and S is scale or number of digits to the right of the decimal point EX: NUMBER (5, 2) means 5 all together and 2 decimal places. The value 1000 will be rejected by the server as that is 6 wide</td></tr> <tr><td style="text-align:center;">DATE</td> <td style="text-align:center;">Date and Time value to the nearest second Range: Jan 1, 4712 BC and Dec 31, 9999</td></tr> <tr><td style="text-align:center;">LONG</td> <td style="text-align:center;">data type is variable length up to 2GB</td></tr> <tr><td style="text-align:center;">CLOB</td> <td style="text-align:center;">character data up to 4GB</td></tr> <tr><td style="text-align:center;">RAW(size)</td> <td style="text-align:center;">Raw binary data of length size (A maximum size must be specified: maximum size is 2,000.)</td></tr> <tr><td style="text-align:center;">LONG RAW</td> <td style="text-align:center;">Raw binary data of variable length (up to 2 GB)</td></tr> <tr><td style="text-align:center;">BLOB</td> <td style="text-align:center;">Binary data (up to 4 GB)</td></tr> <tr><td style="text-align:center;">BFILE</td> <td style="text-align:center;">Binary data stored in an external file (up to 4 GB)</td></tr> <tr><td style="text-align:center;">ROWID</td> <td style="text-align:center;">A base-64 number system representing the unique address of a row in its table</td></tr></tbody></table> <h2 id="datetime-data-types"><a href="#datetime-data-types" class="header-anchor">#</a> Datetime data types</h2> <ul><li><p>TIMESTAMP - By default this is in microsecond - EX: 12-MAR-17 08:45.23.123456  6 decimals for microseconds</p></li> <li><p>TIMESTAMP (0) - removes part seconds</p></li> <li><p>TIMESTAMP (9) - can go to nanoseconds</p></li></ul> <ul><li>INTERVAL to MONTH 15-4 is how it is store 15 years 4 months - Instead of 5773 days</li></ul> <ul><li>INTERVAL TO SECOND 3 12:42:21 3 days 12 hours etc… - Use in biochemistry and other fields to mark time passed</li></ul> <h2 id="overview-of-constraints"><a href="#overview-of-constraints" class="header-anchor">#</a> Overview of constraints</h2> <h3 id="not-null-unique-primary-key-foreign-key-check-constraints"><a href="#not-null-unique-primary-key-foreign-key-check-constraints" class="header-anchor">#</a> NOT NULL, UNIQUE, PRIMARY KEY, FOREIGN KEY, CHECK constraints</h3> <table><thead><tr><th style="text-align:center;">Constraints</th> <th style="text-align:center;">Description</th></tr></thead> <tbody><tr><td style="text-align:center;">NOT NULL</td> <td style="text-align:center;">- SPECIFY DATA CANNOT BE null</td></tr> <tr><td style="text-align:center;">UNIQUE</td> <td style="text-align:center;">- PREVENTS DUPLICATION OF DATA IN THE OTHER ROWS (OHIP)</td></tr> <tr><td style="text-align:center;">PRIMARY KEY</td> <td style="text-align:center;">Unique identifier for each row in a table Aside: It is both NOT NULL and UNIQUE</td></tr> <tr><td style="text-align:center;">FOREIGN KEY</td> <td style="text-align:center;">Establishes and enforces a referential integrity between the column and a column of the referenced table such that values in one table match values in another table</td></tr> <tr><td style="text-align:center;">CHECK</td> <td style="text-align:center;">Specifies a TRUE condition</td></tr></tbody></table> <h2 id="guidelines"><a href="#guidelines" class="header-anchor">#</a> Guidelines</h2> <ol><li><p>You can name a constraint</p></li> <li><p>The oracle server generates a name by using the SYS_Cn format - name your constraint</p></li> <li><p>Create a constraint at either of the following times:</p></li></ol> <ul><li>Creation of table</li> <li>After creation you need to use ALTER statement</li></ul> <ol start="4"><li>Define a constraint at the column or table level</li></ol> <ul><li>inline - done as the column is defined</li> <li>outline - done at the end of column definitions but still in the create table statement</li></ul> <ol start="5"><li>vie a constraint in the data dictionary</li></ol> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>One constraint can only be done at the table level.</p> <p>e.g
composite,
concatentate</p></div> <h2 id="defining-constraints"><a href="#defining-constraints" class="header-anchor">#</a> Defining Constraints</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token punctuation">[</span><span class="token keyword">schema</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token keyword">table</span>
  <span class="token punctuation">(</span><span class="token keyword">column</span> datatype <span class="token punctuation">[</span><span class="token keyword">default</span> expr<span class="token punctuation">]</span> <span class="token punctuation">[</span>column_constraint<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span><span class="token keyword">table</span> <span class="token keyword">constraint</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">--column level constraint</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employees<span class="token punctuation">(</span>
employeeid NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
  <span class="token keyword">constraint</span> emp_emp_id_pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
firstname varchar2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span>
<span class="token comment">--table level</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employees<span class="token punctuation">(</span>
employeeid NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
jobid varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
jobid varchar2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token keyword">CONSTRAINT</span> emp_emp_id_pk
  <span class="token keyword">Primary</span> <span class="token keyword">Key</span> <span class="token punctuation">(</span>employeeid<span class="token punctuation">)</span>
<span class="token punctuation">)</span>


</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <h4 id="column-level"><a href="#column-level" class="header-anchor">#</a> Column level</h4> <ul><li>The comma goes after the constraint on the column level,</li> <li>The column name is not specificed because it is on column definition</li> <li>Naming convention - table_column_type --- department_dept_id_pk</li></ul> <h4 id="table-level"><a href="#table-level" class="header-anchor">#</a> Table level</h4> <ul><li>After the last comma</li> <li>Column needs to be specified</li> <li>Can only apply 1 PK constraint at the column level. For concatenated keys, done at table level</li></ul></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token operator">-</span>course<span class="token punctuation">(</span>
  student_id number<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  course_id <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  grade <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">constraint</span> STUD_CRSE_STUD_ID_CRSE_ID_pk
  <span class="token keyword">PRIMARY</span> <span class="token keyword">Key</span><span class="token punctuation">(</span>student_id<span class="token punctuation">,</span> course_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h2 id="unique"><a href="#unique" class="header-anchor">#</a> Unique</h2> <ol><li>can describe a composite unique key made of more than one column</li> <li>can contain null - null satisfies the unique because null does not equal to anything</li> <li>on a composite unique you cannot have duplicates in the non-null part</li></ol> <h3 id="unique-constraint"><a href="#unique-constraint" class="header-anchor">#</a> Unique constraint</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> employees<span class="token punctuation">(</span>
  employees_id number<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  last_name varchar2<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  email varchar2<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  salary NUMBER<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
  commission_pct number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
  hire_date <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>

<span class="token keyword">constraint</span> emp_email_uk <span class="token keyword">unique</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
<span class="token punctuation">)</span>


</code></pre></div><h2 id="foreign-key"><a href="#foreign-key" class="header-anchor">#</a> Foreign Key</h2> <ul><li>Used to establish referential integrity</li> <li>Designate a column or group of columns as a foreign key</li> <li>establish a relationship with primary key or unique key in the same table or different table</li></ul> <div class="custom-block warning"><p class="custom-block-title">Note:</p> <p>Foreign keys must match an existing value in the parent table or it must be NULL</p></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">--table level</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employees<span class="token punctuation">(</span>
  employeeid NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  lastname varchar2<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  salary number<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  commission_pct number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  hiredate <span class="token keyword">date</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> sysdate<span class="token punctuation">,</span>

<span class="token keyword">constraint</span> emp_dept_fk <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>department_id<span class="token punctuation">)</span>
  <span class="token keyword">references</span> departments<span class="token punctuation">(</span>department_id<span class="token punctuation">)</span>
<span class="token keyword">constraint</span> emp_email_uk <span class="token keyword">unique</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment">-- column level</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employees<span class="token punctuation">(</span>
  departmentid number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> contraint emp_deptid_fk
    <span class="token keyword">references</span> departments<span class="token punctuation">(</span>departmentid<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span>

</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Note:</p> <p>Foreign key not stated in above example and the use of the work reference handles that concept that this is a foreign key constraint.</p> <p>You still need to name it and specify what it references</p> <p>On table level you need to say Foreign Key</p></div> <h2 id="foreign-key-2"><a href="#foreign-key-2" class="header-anchor">#</a> Foreign Key</h2> <ul><li><p>Foreign key: defines the column in the child table at the table-constraint level</p></li> <li><p>References identifies the table and column in the parent table</p></li> <li><p>The parent record cannot be changed or deleted if there exists a FK in the child table that references it. This is done to maintain data integrity.</p></li></ul> <div class="custom-block warning"><p class="custom-block-title">Note:</p> <ul><li><p>on delete cascade: delets the dependant rows in the child table when a row in the parent table is deleted</p></li> <li><p>on delete set null : converts dependent foreign key values to null</p></li></ul></div> <h2 id="check-constraint"><a href="#check-constraint" class="header-anchor">#</a> Check Constraint</h2> <p>Define a condition that each row must satisfy before the insert can be added to the table</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> employees<span class="token punctuation">(</span>
  salary number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">constraint</span> employees_salary_min <span class="token keyword">check</span> <span class="token punctuation">(</span>salary <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> employees
<span class="token punctuation">(</span> employee_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token keyword">CONSTRAINT</span> emp_employee_id <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
<span class="token punctuation">,</span> first_name VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">,</span> last_name VARCHAR2<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token keyword">CONSTRAINT</span> emp_last_name_nn <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">,</span> email VARCHAR2<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token keyword">CONSTRAINT</span> emp_email_nn <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token keyword">CONSTRAINT</span> emp_email_uk <span class="token keyword">UNIQUE</span>
<span class="token punctuation">,</span> phone_number VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">,</span> hire_date <span class="token keyword">DATE</span>
<span class="token keyword">CONSTRAINT</span> emp_hire_date_nn <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">,</span> job_id VARCHAR2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">CONSTRAINT</span> emp_job_nn <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">,</span> salary NUMBER<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">CONSTRAINT</span> emp_salary_ck <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>salary<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">,</span> commission_pct NUMBER<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">,</span> manager_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token keyword">CONSTRAINT</span> emp_manager_fk <span class="token keyword">REFERENCES</span> employees <span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span>
<span class="token punctuation">,</span> department_id NUMBER<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">CONSTRAINT</span> emp_dept_fk <span class="token keyword">REFERENCES</span> departments <span class="token punctuation">(</span>department_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="violating-constraints-on-delete"><a href="#violating-constraints-on-delete" class="header-anchor">#</a> Violating Constraints on delete</h2> <p>You cannot delete a row that contains a primary key that is used as a foreign key in another table</p> <h2 id="create-table-via-subquery"><a href="#create-table-via-subquery" class="header-anchor">#</a> Create Table via subquery</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">table</span>
  <span class="token punctuation">(</span>
    <span class="token keyword">column</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token keyword">AS</span> subquery
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> dept80
<span class="token keyword">as</span>
  <span class="token keyword">select</span> employeeid<span class="token punctuation">,</span> lastname<span class="token punctuation">,</span> salary<span class="token operator">*</span><span class="token number">12</span> ANNSAL<span class="token punctuation">,</span> hiredate
  <span class="token keyword">from</span> employees
  <span class="token keyword">where</span> departmentid <span class="token operator">=</span> <span class="token number">80</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Note:</p> <p>Alias must be used for salary*12 as the original table does not have that column name</p></div> <h2 id="alter-table"><a href="#alter-table" class="header-anchor">#</a> Alter Table</h2> <ul><li>add a new column</li> <li>modify existing column def</li> <li>define a default value</li> <li>drop a column</li> <li>rename a column</li> <li>change table to read-only</li></ul> <h2 id="dropping-a-table"><a href="#dropping-a-table" class="header-anchor">#</a> Dropping a Table</h2> <ul><li>Moves table to recycle bin</li> <li>Removes the table and all its data entirely
<ul><li>if purge specified it releases space for other objects to use</li></ul></li> <li>invalidates dependent objects and removes object privileges on the table
<ul><li>vies using the table remain but are invalid</li></ul></li></ul> <h2 id="tic-table-instance-chart"><a href="#tic-table-instance-chart" class="header-anchor">#</a> TIC Table Instance Chart</h2> <h3 id="table-tablename-–-assume-this-is-a-bridging-table"><a href="#table-tablename-–-assume-this-is-a-bridging-table" class="header-anchor">#</a> Table: TableName – assume this is a bridging table</h3> <table><thead><tr><th style="text-align:center;">Column Names</th> <th style="text-align:center;">Primary Key</th> <th style="text-align:center;">Foreign Key</th> <th style="text-align:center;">Not Null</th> <th style="text-align:center;">Unique</th> <th>Validation (Check)</th></tr></thead> <tbody><tr><td style="text-align:center;">Col 1</td> <td style="text-align:center;">PK</td> <td style="text-align:center;">Parent 1 (PK1-col1)</td> <td style="text-align:center;">Do not need NN</td> <td style="text-align:center;">Do not need UK</td> <td></td></tr> <tr><td style="text-align:center;">Col 2</td> <td style="text-align:center;">PK</td> <td style="text-align:center;">Parent 2 (etc..)</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">Col 3 Email</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;">NN or y</td> <td style="text-align:center;">Uk orY</td> <td></td></tr> <tr><td style="text-align:center;">Col 4</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td>Optional check A Condition EX: Between 300 and 2000</td></tr> <tr><td style="text-align:center;">Sample data</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">Sample data</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">Sample data</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Lesson9.html" class="prev">Lesson 9 DML Manipulating Data</a></span> <span class="next"><a href="/Lesson11.html">Lesson 11 Manage Schema Objects - Altering Tables</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5a6969a4.js" defer></script><script src="/assets/js/2.8cd1edd2.js" defer></script><script src="/assets/js/6.8d98af04.js" defer></script>
  </body>
</html>
