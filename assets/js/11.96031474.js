(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{208:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"lesson-4-group-functions-pt-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lesson-4-group-functions-pt-1"}},[s._v("#")]),s._v(" Lesson 4 Group Functions pt.1")]),s._v(" "),a("p",[s._v("Group functions:")]),s._v(" "),a("ul",[a("li",[s._v("operate on sets of rows")]),s._v(" "),a("li",[s._v("returns one result per group")])]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("returns")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 number from set of rows'")]),s._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("reminder")]),s._v(" "),a("p",[s._v("single row functions worked on single rows and returned 1 result per row")])]),s._v(" "),a("h2",{attrs:{id:"list-of-group-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-of-group-functions"}},[s._v("#")]),s._v(" list of group functions")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("AVG(n) - average value o fn, ignoring null values 0")])]),s._v(" "),a("li",[a("p",[s._v("COUNT(n) - number of rows where expr evaluates to something other than null\n&& count all selected rows using * includes duplicates and nulls unless you use district")])]),s._v(" "),a("li",[a("p",[s._v("MAX(n) - max value of expr, ignoring null")])]),s._v(" "),a("li",[a("p",[s._v("MIN(n) - min value of expr, ignoring null")])]),s._v(" "),a("li",[a("p",[s._v("SUM(n) - Sums value of n")])]),s._v(" "),a("li",[a("p",[s._v("STDDEV([DISTINCT|ALL]x)\nStandard deviation of n, ignoring null")])]),s._v(" "),a("li",[a("p",[s._v("VARIANCE ([DISTINCT|ALL]x)\nVariance of n, ignoring null values")])])]),s._v(" "),a("h2",{attrs:{id:"group-function-syntax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#group-function-syntax"}},[s._v("#")]),s._v(" Group function syntax")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MIN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("    EMPLOYEES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8775")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24000")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2500")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("175500")]),s._v("\n\n")])])]),a("p",[s._v("For Sales rep only")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MIN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("    EMPLOYEES\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" jobid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%REP%'")]),s._v("\n")])])]),a("h2",{attrs:{id:"guidelines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#guidelines"}},[s._v("#")]),s._v(" Guidelines")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Distinct - makes the function only consider non-duplicated values")])]),s._v(" "),a("li",[a("p",[s._v("ALL - makes the function consider all values (default)")])]),s._v(" "),a("li",[a("p",[s._v("The Data types with syntax expr argument may be char, varchar2, number, date")])]),s._v(" "),a("li",[a("p",[s._v("All group functions ignore null values. To substitude null use NVL(column, n)")])])]),s._v(" "),a("h2",{attrs:{id:"using-min-max-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-min-max-functions"}},[s._v("#")]),s._v(" Using MIN, MAX functions")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("you can use MIN and MAX for numeric, character and dates")])]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hiredate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"most senior"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hiredate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"newest employee"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n")])])]),a("h2",{attrs:{id:"using-count-function"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-count-function"}},[s._v("#")]),s._v(" Using Count function")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employee\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("returns")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'count of rows in table'")]),s._v("\n")])])]),a("p",[s._v("Inside an expression")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("commission_pct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("Note")]),s._v(" "),a("p",[s._v("Count the number of rows that satisfies the select statement")]),s._v(" "),a("p",[s._v("adding an expressino returns non-null values")]),s._v(" "),a("p",[s._v("adding distinct returns the number of rows that are distinct from all the rows that are not null")])]),s._v(" "),a("h2",{attrs:{id:"distinct-examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#distinct-examples"}},[s._v("#")]),s._v(" Distinct examples")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"group-functions-and-null"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#group-functions-and-null"}},[s._v("#")]),s._v(" Group functions and null")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("commissionpct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"returns .2125 since it ignores nulls"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nvl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("commissionpct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'nulls are considered value of 0'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'returns .0425'")]),s._v("\n")])])]),a("h2",{attrs:{id:"groups-of-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#groups-of-data"}},[s._v("#")]),s._v(" Groups of Data")]),s._v(" "),a("p",[s._v("All group functions have treated that table as one large group, but sometimes the information needs to be divided into smaller groups")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'returns\nERROR at line 1:\nORA-00937: not a single-group group function\n'")]),s._v("\n")])])]),a("p",[s._v("The use of departmentid results in a row of outputs for each row in the employee table")]),s._v(" "),a("p",[s._v("AVG wants to output a single resuilt for the entire table")]),s._v(" "),a("p",[s._v("therefore we can use the keyword")]),s._v(" "),a("p",[s._v("GROUP BY")]),s._v(" "),a("h2",{attrs:{id:"group-by"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#group-by"}},[s._v("#")]),s._v(" GROUP BY")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" departmentid\n\n\nDEPARTMENT_ID "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------- -----------")]),s._v("\n                     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19333.3333")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9500")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10150")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3500")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10033.3333")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6400")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4400")]),s._v("\n\n")])])]),a("p",[s._v("Group by does not need to be in the select statement")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" departmentid\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-----------")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19333.3333")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9500")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10150")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3500")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10033.3333")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6400")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4400")]),s._v("\n\n")])])]),a("p",[s._v("incorporate it with order by")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" average"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" departmentid\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" departmentid "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("\n")])])]),a("h2",{attrs:{id:"grouping-by-more-than-1-column"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grouping-by-more-than-1-column"}},[s._v("#")]),s._v(" grouping by more than 1 column")]),s._v(" "),a("p",[s._v("display the total salary paid to each job title within each department")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" jobid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" jobid\n\nDEPARTMENT_ID JOB_ID     "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------- ---------- -----------")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" AC_ACCOUNT        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8300")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" AD_VP            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34000")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" ST_CLERK         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11700")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" SA_REP           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19600")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" ST_MAN            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5800")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" SA_MAN           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10500")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" AC_MGR           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12000")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" AD_PRES          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24000")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" IT_PROG          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19200")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" MK_MAN           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13000")]),s._v("\n              SA_REP            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" AD_ASST           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4400")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" MK_REP            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6000")]),s._v("\n\n\n")])])]),a("p",[s._v("Restricting which groups to show")]),s._v(" "),a("p",[s._v("Find the max salary by department if max salary is greater than 10000")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" departmentid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" departmentid\n\n")])])]),a("h2",{attrs:{id:"nesting-group-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nesting-group-functions"}},[s._v("#")]),s._v(" Nesting Group Functions")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("salary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" departmentid\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SALARY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("----------------")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19333.3333")]),s._v("\n\n")])])]),a("p",[s._v("examples")]),s._v(" "),a("p",[s._v("Write a query to determine how many job_ids there are")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" job_id\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n")])])]),a("p",[s._v("write a query to find out how many people have the same job")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("firstname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" employees\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" job_id\n")])])]),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" column_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" table_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" condition\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" column_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" condition\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" column_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);